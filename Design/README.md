
## Design Pattern

明确项目中的稳定点和变化点，选择合适的设计模式。（以下许多实现依赖于 C++ 语言特性）

### 1. 策略模式 Strategy

> 解决的问题

- 稳定点：客户程序与算法的调用关系
- 变化点：新增算法 / 算法内部实现

> 代码结构

- 算法的抽象接口：用于解耦合
- 算法具体实现：继承自算法接口
- 算法调用者：
  - 组合算法接口指针
  - 具体切换算法
  - 依赖注入

> 应用案例

- 后端日志系统：可以写入 DB / kafka / 本机（temp）

### 2. 责任链模式 Chain of Responsibility

> 解决的问题

- 稳定点：请求按照链条传递处理（一般通过链表，中间可能发生条件打断）
- 变化点：处理结点的个数/顺序/逻辑会发生变化

> 代码结构

- 单个处理模块
  - 抽象接口
  - 实际处理请求的功能
  - 链条关系的基础：next / SetNext / GetNext
  - 功能传递：模板方法 / 算法骨架
- 工程模式实现构建链条
  - 工厂方法中生成多个处理模块
  - 构建模块关系
  - 返回链条头指针

> 应用案例

- nginx 处理 http 请求

### 3. 